"""Change a graphic to remove pixels of a given colour"""

from PIL import Image
from optparse import OptionParser

parser = OptionParser()
parser.add_option("-c", "--colour", dest="colour", default='255,0,255', type="str",
                  help="colour to replace")
                
(options, args) = parser.parse_args()

c = map(int, options.colour.split(','))
filename = args[0]

im = Image.open(filename)
width, height = im.size
import pdb; pdb.set_trace()

for x in range(width):
    for y in range(height):
        if list(im.getpixel((x, y))[0:3]) == c[0:3]:
            im.putpixel((x, y), (0, 0, 0, 0))

im.save(filename)
print 'Image updated\n\n'
